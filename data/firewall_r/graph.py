import numpy as np
import matplotlib.pyplot as plt

c64b = np.array([800772864,800773120,800772292,800773187,800773375,
		800772676,800773854,800773318,800665344,800772934])
c64p = np.array([12512079,12512077,12512064,12512076,12512084,
		12512070,12512086,12512079,12510393,12512080])
c128b = np.array([967048384,800772292,800772292,967048128,967050948,
		967051524,967050642,967049820,967050950,967050520])
c128p = np.array([7555066,7555090,7555066,7555065,7555086,
		7555095,7555081,7555077,7555086,7555086])
c512b = np.array([1029123334,1029122756,1029126208,1029123712,1029122560,
		1029125059,800773854,800773318,1029128668,1029118464])
c512p = np.array([2010008,2010008,2010011,2010010,2010005,
		2010019,2010018,2010004,2010025,2009997])
c1024b = np.array([902783174,902751428,902755292,902776600,902789514,
		902753874,902750406,871739584,902746112,902772932])
c1024p = np.array([881628,881594,881606,881625,881634,
		881601,881593,851311,881589,881616])

java64b = np.array([803355020,812380160,809681664,810625862,809980230,
	809652480,812401734,810680576,810374214,810016000])
java64p = np.array([12552418,12693440,12651279,12666025,12655940,
	12650820,12693780,12666883,12662093,12656504])
java128b = np.array([1005959366,1007705792,1011619526,1007215814,1008328838,
	1011622080,1007272966,1007742528,1011616896,1008042880])
java128p = np.array([7859058,7872699,7903279,7868878,7877566,
	7903298,7869323,7872986,7903258,7875336])
java512b = np.array([1106861165,1106893888,1102065152,1106905152,1106894086,
	1103621184,1106904774,1103426438,1106893376,1106876428])
java512p = np.array([2161840,2161902,2152471,2161926,2161905,
	2155511,2161925,2155134,2161902,2161873])
java1024b = np.array([998748358,995729472,998735046,998768640,996549632,
	998780928,998728768,996327424,998739968,998770688])
java1024p = np.array([975341,972393,975329,975360,973193,
	975372,975322,972976,975332,975361])

c64b = c64b.sum() / 10000000000.0
c64p = c64p.sum() / 10000000.0
c128b = c128b.sum() / 10000000000.0
c128p = c128p.sum() / 10000000.0
c512b = c512b.sum() / 10000000000.0
c512p = c512p.sum() / 10000000.0
c1024b = c1024b.sum() / 10000000000.0
c1024p = c1024p.sum() / 10000000.0
java64b = java64b.sum() / 10000000000.0
java64p = java64p.sum() / 10000000.0
java128b = java128b.sum() / 10000000000.0
java128p = java128p.sum() / 10000000.0
java512b = java512b.sum() / 10000000000.0
java512p = java512p.sum() / 10000000.0
java1024b = java1024b.sum() / 10000000000.0
java1024p = java1024p.sum() / 10000000.0

N = 4

cbytes = [c64b, c128b, c512b, c1024b]
cpackets = [c64p, c128p, c512p, c1024p]

jbytes = [java64b,java128b,java512b,java1024b]
jpackets = [java64p,java128p,java512p,java1024p]

ind = np.arange(N)
width = 0.35

fig, ax = plt.subplots()
#ax2 = ax.twinx()
rects1 = ax.bar(ind, jpackets, width, color="r")
rects2 = ax.bar(ind+width, cpackets, width, color="b")
#rects2 = ax2.bar(ind+width, jpackets, width)

#ax.set_ylabel('Bytes per second (GigaBytes)')
ax.set_ylabel('Packets per second (millions)')
ax.set_xlabel('Packet size (Bytes)')
ax.set_xticks(ind + (width))
ax.set_xticklabels(["64", "128", "512", "1024"])
ax.set_xlim(0,4.5)
ax.set_ylim(0, 15)
#ax2.set_ylim(0,6)

ax.legend( (rects1[0], rects2[0]), ('Java', 'C') )

# plt.ylabel('packets per second (millions)')
# plt.xlabel('packet size (bytes)')
# plt.xticks(index + (bar_width/2), ["64", "128", "256", "512", "1024"])
# plt.yticks(np.arange(0, 15, 1))

plt.savefig("packets.png")
plt.show()



